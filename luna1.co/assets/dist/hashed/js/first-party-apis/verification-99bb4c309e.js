var AsanaVerificationUtils={resendEmail:{init:function(){for(var i=document.querySelectorAll(".click-here-container"),e=document.querySelectorAll(".email-resend-container"),t=0;t<i.length;t++)i[t].classList.remove("show"),i[t].classList.add("hide");for(var a=0;a<e.length;a++){var n=this;e[a].classList.remove("hide"),e[a].classList.add("show"),e[a].addEventListener("click",(function(){n.resendEmailRequest(n.modifyUIAfterEmailSent,n),n.toggleLoadingIndicators("show","hide")}))}},resendEmailRequest:function(){var i=AsanaStorage.getEncryptedUserId(),e={email:AsanaStorage.getUserEmailCookie(),encrypted_user_id:i};$.ajax({url:AsanaHelpers.appUrl("/-/resend_email"),type:"POST",dataType:"json",data:e,timeout:3e4,crossDomain:!0,xhrFields:{withCredentials:!0},complete:function(){AsanaVerificationUtils.resendEmail.modifyUIAfterEmailSent()},error:function(i){Bugsnag.notify("Non-200 response from /-/resend_email")}})},modifyUIAfterEmailSent:function(){this.toggleLoadingIndicators("hide","show");for(var i=document.querySelectorAll(".email-send-container"),e=document.querySelectorAll(".email-resend-container"),t=0;t<e.length;t++)e[t].classList.remove("show"),e[t].classList.add("hide");for(var a=0;a<i.length;a++)i[a].classList.remove("hide"),i[a].classList.add("show")},toggleLoadingIndicators:function(i,e){for(var t=document.querySelectorAll(".email-resending-indicator"),a=0;a<t.length;a++)t[a].classList.add(i),t[a].classList.remove(e)}},SSOSignupVerification:{swapToAlternateEmailVerificationUI:function(i){var e=document.querySelector(".-pt-10"),t=document.querySelector(i);e.classList.remove("show"),e.classList.add("hide"),t.classList.remove("hide"),t.classList.add("show")},verifyEmailWithGmailSSO:function(){this.swapToAlternateEmailVerificationUI(".verification-gmail")},verifyEmailWithGsuiteSSORequired:function(){this.swapToAlternateEmailVerificationUI(".verification-gmail")},verifyEmailWithGsuiteSSOOptional:function(){this.swapToAlternateEmailVerificationUI(".verification-gsuite")},verifyEmailWithSAMLRequired:function(){this.swapToAlternateEmailVerificationUI(".verification-saml-required")},verifyEmailWithSAMLOptional:function(){this.swapToAlternateEmailVerificationUI(".verification-saml-optional")},emailVerifiedWithEcommerceForGoogleSSO:function(){this.swapToAlternateEmailVerificationUI(".verification-ecommerce-sso"),$("#redirect-cta").attr("href",AsanaHelpers.appUrl()),setTimeout((function(){window.location.href=AsanaHelpers.appUrl()}),3e3),AsanaStorage.deleteCookie("user_just_claimed_due_to_sso")},populateUserEmailElements:function(i){for(var e=$(".user-email"),t=0;t<e.length;t++)e[t].textContent=i,e[t].classList.add("dark")},addRedirectLinksToSAMLRedirectButtons:function(i){for(var e=$(".sso-button-continue"),t=0;t<e.length;t++)e[t].addEventListener("click",(function(){window.location.href=i}))},attachClickHandlerToContinueWithGoogleButton:function(){$(".gmail-button-continue").click((function(){AsanaHelpers.signupWithGoogle(),AsanaAnalytics.trackGTM("login_google_auth"),AsanaAnalytics.trackGTM("signup_google_auth")}))},attachClickHandlerToContinueWithGoogleButtonForShareableLinks:function(){$(".gmail-button-continue").click((function(){var i=AsanaHelpers.getUrlParams.get("share_link_key"),e=AsanaHelpers.getUrlParams.get("share_link_domain"),t=AsanaStorage.getUserEmailCookie();AsanaHelpers.signupWithGoogle(i,e,t),AsanaAnalytics.trackGTM("login_google_auth"),AsanaAnalytics.trackGTM("signup_google_auth")}))},attachClickHandlersToEmailButtons:function(i){var e=$(".emailButton");$.each(e,(function(e,t){$(this).click((function(){if($(this).data().emailType){var e={page:i.substring(1),emailServiceClicked:$(this).data().emailType.split("!")[0]||null};AsanaAnalytics.trackGTM("click_thank_you_email_button",e)}}))}))},verifyEmailWithSSO:function(i,e,t){!i&&e?"gsuite_required"===e?this.verifyEmailWithGsuiteSSORequired():"gsuite_optional"===e?this.verifyEmailWithGsuiteSSOOptional():"saml_required"===e?this.verifyEmailWithSAMLRequired():"saml_optional"===e&&this.verifyEmailWithSAMLOptional():i||"gmail"!==t||this.verifyEmailWithGmailSSO()}}};